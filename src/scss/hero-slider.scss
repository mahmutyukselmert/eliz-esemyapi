@use "_variables.scss" as *;

/* Yakınlaşma ve Uzaklaşma Animasyonu */
@keyframes zoom-and-move {
    0% {
        transform: scale(1) translateY(0);
    }

    25% {
        transform: scale(1.1) translateY(-10px);
    }

    50% {
        transform: scale(1.2) translateY(0);
    }

    75% {
        transform: scale(1.1) translateY(10px);
    }

    100% {
        transform: scale(1) translateY(0);
    }
}

main {
    .hero {
        position: relative;
        z-index: 1;
    }
}

#carouselSlider {
    position: relative;
    height: 100vh;

    .carousel-inner {
        height: 100%;

        &::before {
            position: absolute;
            content: "";
            inset: 0;
            z-index: 2;
            left: 0;
            pointer-events: none;

            mix-blend-mode: multiply;
            background: linear-gradient(
                to right,
                rgba(18, 18, 18, 0.95) 0%,
                /* En Sol (Başlangıç): Çok Yoğun Siyah */ rgba(18, 18, 18, 0.9) 10%,
                /* %10'a kadar yoğunluk korunuyor */ rgba(18, 18, 18, 0.8) 25%,
                /* %25'te yavaşça açılmaya başlıyor */ rgba(18, 18, 18, 0.5) 45%,
                /* Ekranın yarısına yaklaştıkça yarı şeffaf */ rgba(18, 18, 18, 0.1) 70%,
                /* Neredeyse şeffaf */ transparent 100% /* En Sağ (Bitiş): Tamamen Şeffaf */
            );
            width: 101%;
            height: 101%;
        }

        &::after {
            content: "";
            position: absolute;
            inset: 0;
            z-index: 2;
            pointer-events: none;

            background: linear-gradient(
                to top,
                rgba(18, 18, 18, 0.99) 2%,
                /* En alt: Tam karanlık */ rgba(18, 18, 18, 0.8) 15%,
                /* %15'e kadar hala zifiri karanlık (Geniş taban) */ rgba(18, 18, 18, 0.7) 30%,
                /* %30'da hala yoğun siyahlık var */ rgba(18, 18, 18, 0.6) 45%,
                /* Ekranın ortasında dumanlı bir geçiş */ rgba(18, 18, 18, 0.2) 70%,
                /* Yukarıda iyice azalıyor */ transparent 90% /* En üstte tamamen bitiyor */
            );
            width: 101%;
            height: 101%;
        }

        .carousel-item {
            height: 100%;
            & > img:first-of-type {
                width: 100%;
                height: 100% !important;
                object-fit: cover;
                animation: zoom-and-move 20s infinite;
            }

            .carousel-caption {
                position: relative;
                z-index: 3;
                bottom: 20%;
                left: 5%;

                .hero-title {
                    font-size: 1.875rem;
                    font-weight: 300;
                    color: #fff;
                    margin-bottom: 1rem;
                }
                .hero-subtitle {
                    font-size: 3.75rem;
                    font-weight: 600;
                    color: #fff;
                    margin-bottom: 1.5rem;
                }
            }
        }
    }

    /* Sol alt vinyet gölgesi ve içerik taşıyıcı */
    .carousel-bottom-area {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        padding: 60px 0; // Alt boşluk
        z-index: 10;

        &::after {
            content: "";
            position: absolute;
            inset: 0;
            z-index: 2;
            pointer-events: none;
        }

        .container {
            /* d-flex align-items-center gap-4 sayesinde yan yana dururlar */
            .carousel-controls {
                display: flex;
                gap: 10px;
                flex-shrink: 0; // Okların boyutu metin gelse de küçülmez

                .carousel-control-prev,
                .carousel-control-next {
                    position: relative;
                    width: auto;
                    height: auto;
                    opacity: 1;

                    i {
                        font-size: 2.625rem; // Senin orijinal ölçün
                        color: #fff;
                    }
                }
            }

            .carousel-content {
                max-width: 400px;
                p {
                    font-family: "Raleway", sans-serif;
                    color: #fff;
                    margin-bottom: 0;
                    font-size: 1.125rem;
                    font-weight: 400;
                }
            }
        }
    }
}

@media (max-width: 992px) {
    #carouselSlider {
        .carousel-inner {
            height: 100%;
        }
    }
}

// Mobil Düzenlemeler
@media (max-width: 768px) {
    #carouselSlider {
        z-index: 1;
        height: 70vh;
        .carousel-inner {
            .carousel-item {
                .carousel-caption {
                    bottom: 36%;
                    left: 3%;

                    .hero-title {
                        font-size: 1rem;
                    }

                    .hero-subtitle {
                        font-size: 1.25rem;
                    }
                }
            }
        }
        .carousel-bottom-area {
            padding: 20px 0;
            .d-flex {
                flex-direction: column; // Mobilde alt alta gelsinler
                align-items: flex-start !important;
            }
            .carousel-controls {
                margin-top: 15px;
            }
            .carousel-content {
                p {
                    font-size: 1rem;
                }
            }
        }
    }
}

.loader-wrapper {
    position: relative;
    // İkonun 2.625rem (42px) ise, kapsayıcıyı biraz daha büyük tutalım
    width: 3rem;
    height: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;

    i {
        font-size: 2.625rem;
        color: #fff;
        line-height: 1;
        z-index: 1;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        &::before {
            font-size: 2.625rem;
            color: #fff;
            line-height: 1;
            z-index: 1;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
    }

    .progress-ring-svg {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        transform: rotate(-90deg);
        z-index: 2;
        pointer-events: none;
    }

    .progress-ring-circle {
        fill: transparent;
        stroke: var(--primary);
        stroke-width: 4;
        stroke-linecap: round;
        $radius: 50;
        $circumference: 131.94689145;
        stroke-dasharray: #{$circumference};
        stroke-dashoffset: #{$circumference};

        &.is-animating {
            transition: stroke-dashoffset 3s linear;
            stroke-dashoffset: 0;
        }
    }
}

.sub-page {
    #carouselSlider {
        .carousel-inner {
            .carousel-item {
                .carousel-caption {
                    left: 0;
                    right: 0;
                    margin: 0 auto;
                    position: absolute;
                    bottom: 50%;
                    top: 50%;
                    width: fit-content;
                    transform: translate(0, -50%);
                    height: fit-content;
                    .hero-title {
                        display: -webkit-box;
                        -webkit-line-clamp: 1;
                        -webkit-box-orient: vertical;
                        overflow: hidden;
                        text-overflow: ellipsis;
                    }
                    .hero-subtitle {
                        display: -webkit-box;
                        -webkit-line-clamp: 3;
                        -webkit-box-orient: vertical;
                        overflow: hidden;
                        text-overflow: ellipsis;
                    }
                    .carousel-content {
                        display: -webkit-box;
                        -webkit-line-clamp: 3;
                        -webkit-box-orient: vertical;
                        overflow: hidden;
                        text-overflow: ellipsis;
                        &.line-clamp-7 {
                            -webkit-line-clamp: 7;
                        }
                        p {
                            font-size: 1.125rem;
                        }
                    }
                    .service-page-banner-image {
                        min-width: 24.375rem;
                        max-height: 24.375rem;
                        img {
                            width: 100%;
                            height: auto;
                            border-radius: 1.875rem;
                            min-width: 24.375rem;
                            max-height: 24.375rem;
                        }
                    }
                    .carousel-description {
                        position: absolute;
                        @media (max-width: 36rem) {
                            position: relative;
                        }
                    }

                    @media (max-width: 991.98px) {
                        .service-page-banner-image {
                            min-width: 16rem;
                            max-height: 16rem;
                            img {
                                min-width: 16rem;
                                max-height: 16rem;
                            }
                        }
                    }
                    @media (max-width: 768px) {
                        left: 1rem;
                        right: 1rem;
                    }
                }
            }
        }

        .carousel-bottom-area {
            position: relative;
        }
        .circle-web-animation {
            bottom: initial;
            left: initial;
        }
    }

    .hero-half {
        #carouselSlider {
            height: 60vh;
        }
    }

    .full-bg-image {
        position: absolute;
        width: 100%;
        height: 100vh;
        overflow: hidden;

        img {
            width: 100%;
            height: 100vh;
            object-fit: cover;
            opacity: 0.4;
            z-index: 1;
            animation: zoom-and-move 20s infinite;
        }

        &.gray-bg {
            filter: grayscale(100%) opacity(0.9);
        }

        &::before {
            position: absolute;
            content: "";
            inset: 0;
            z-index: 2;
            top: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            mix-blend-mode: multiply;
            background-color: rgba(18, 18, 18, 0.6);
        }

        &::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: 0;
            width: 100%;
            height: 160px;
            z-index: 2;
            pointer-events: none;
            background: linear-gradient(to bottom, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.6) 50%, #121212 100%);
        }
    }

    .full-hero {
        z-index: 2;
        padding: 10rem 0 0 0;
        .hero-subtitle {
            font-weight: 600;
        }
        h1,
        h2,
        h3,
        h4,
        h5 p {
            color: #ffffff;
        }
        .d-order {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            h1 {
                order: 2;
            }
            h2 {
                order: 1;
            }
            .hero-title {
                font-size: 3rem;
                font-weight: 600;
                display: -webkit-box;
                -webkit-line-clamp: 2;
                -webkit-box-orient: vertical;
                overflow: hidden;
                text-overflow: ellipsis;
            }
            .hero-subtitle {
                font-weight: 300;
                display: -webkit-box;
                -webkit-line-clamp: 1;
                -webkit-box-orient: vertical;
                overflow: hidden;
                text-overflow: ellipsis;
            }
        }
    }
}

.full-hero {
    position: relative;
    overflow: hidden;
}
